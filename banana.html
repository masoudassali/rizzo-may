<!DOCTYPE html>
<html>
<head>
<title>rizzooo-may!</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    line-height: 1.6;
    margin: 20px;
    background-color: #f4f7f6; /* Light background */
    color: #333; /* Default text color */
    padding-bottom: 80px; /* Add padding at the bottom to make space for the fixed footer */
  }

  h2 {
    color: #333;
    border-bottom: 2px solid #007bff; /* A little underline */
    padding-bottom: 10px;
  }

  h3 {
    color: #555;
    margin-top: 0;
    margin-bottom: 10px;
  }

  p { /* Style for general paragraphs */
      margin-bottom: 15px;
  }

  ol {
    margin-bottom: 20px;
    padding-left: 20px; /* Indent list */
  }

  ol li {
      margin-bottom: 5px;
  }

  /* Styles for the form and its elements using CSS Grid for layout */
  form {
    margin-bottom: 30px;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 8px; /* More rounded corners */
    background-color: #fff; /* White form background */
    box-shadow: 0 2px 4px rgba(0 0 0 / 10%); /* Subtle shadow */
    display: grid; /* Use Grid layout */
    grid-template-columns: 1fr; /* Arrange items in a single column */
    gap: 15px; /* Add space between grid items */
  }

  /* Apply box-sizing for more predictable width */
  form *, form *:before, form *:after {
    box-sizing: border-box;
  }


  label {
    display: block; /* Labels are block elements */
    margin-bottom: 0; /* Remove margin bottom if using grid gap */
    font-weight: bold;
    color: #555;
  }

  input[type="file"],
  textarea {
    display: block; /* Ensure they take up their grid area */
    margin-bottom: 0; /* Remove margin bottom if using grid gap */
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    background-color: #f8f8f8;
    width: 100%; /* Make them fill the grid column */
  }

  textarea {
      resize: vertical; /* Allow only vertical resizing */
      min-height: 100px; /* Give textarea a minimum height */
  }

  /* Remove vertical resize for file inputs */
   input[type="file"] {
       resize: none;
   }


  /* Revised CSS for input[type="submit"] */
  input[type="submit"] {
    padding: 10px 20px; /* More padding - helps define size */
    background-color: #007bff; /* Primary blue color */
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s ease; /* Smooth hover effect */
    display: inline-block; /* Use inline-block for standard button behavior */
    /* REMOVED: width: auto; */ /* Let padding and content define the width */
    margin-top: 10px; /* Add some space above submit button */
    /* Optional: Can add min/max width if needed, but removing auto is the first step */
    /* min-width: 150px; */
    /* max-width: 300px; */
  }

  input[type="submit"]:hover {
    background-color: #0056b3; /* Darker blue on hover */
  }

  input[type="submit"]:disabled { /* Style for disabled button */
    background-color: #cccccc;
    cursor: not-allowed;
  }

  /* Styles for the upload status bar */
  #uploadStatusContainer {
      width: 100%;
      background-color: #ddd;
      display: none; /* Initially hidden */
      margin-top: 15px;
      border-radius: 4px;
      overflow: hidden; /* Ensure the status bar stays within bounds */
  }

  #uploadStatusBar {
      width: 0%;
      height: 20px;
      background-color: #4CAF50; /* Green color for the bar */
      text-align: center;
      line-height: 20px; /* Vertically center text */
      color: white;
      border-radius: 4px;
      transition: width 0.3s ease; /* Smooth animation for the bar */
      font-size: 0.8em; /* Smaller text */
  }

   #uploadStatusText {
      margin-top: 5px;
      font-size: 0.9em;
      color: #555;
      display: none; /* Initially hidden */
      text-align: center;
   }


  /* Styles for the response area */
  #responseContainer { /* Container for response header, button, and area */
      margin-top: 20px;
  }

  #responseHeader {
      display: flex; /* Use flexbox to align header and button */
      align-items: center; /* Vertically align */
      gap: 15px; /* Space between header and button */
      margin-bottom: 10px;
  }

  #copyButton {
      padding: 5px 15px;
      background-color: #6c757d; /* Grey color for button */
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: background-color 0.3s ease;
  }

  #copyButton:hover {
    background-color: #5a6268; /* Darker grey on hover */
  }

  #copyButton.copied { /* Style when text is copied */
      background-color: #28a745; /* Green */
      color: white;
  }


  #responseArea {
    padding: 15px;
    border: 1px solid #eee;
    border-radius: 8px;
    background-color: #e9ecef; /* Light grey background for response */
    white-space: pre-wrap;
    word-wrap: break-word;
    min-height: 50px; /* Give it a minimum height */
    color: #333; /* Default text color */
    overflow-x: auto; /* Add horizontal scroll if content is too wide */
  }

  #responseArea pre { /* Style for pre tag inside response area */
      margin: 0; /* Remove default margin from pre */
      padding: 0;
  }


  #responseArea p { /* Style for paragraph messages inside response area */
      margin: 5px 0;
      padding: 0;
  }

  #responseArea code { /* Style for code blocks inside response area */
      background-color: #f8f9fa;
      padding: 2px 4px;
      border-radius: 4px;
      font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
      font-size: 0.9em;
  }

    /* Styles for the submission counter */
    #submissionCounter {
        margin-top: 20px;
        font-size: 1em;
        color: #555;
        text-align: center;
    }


  /* Styles for the footer */
  footer {
      position: fixed; /* Fix footer to the bottom */
      left: 0;
      bottom: 0;
      width: 100%;
      background-color: #333; /* Dark background */
      color: #f4f7f6; /* Light text */
      text-align: center;
      padding: 10px 20px;
      font-size: 0.8em; /* Small font size */
  }

  footer p {
      margin: 0; /* Remove margin from footer paragraph */
      padding: 0;
  }

    footer a {
        color: #f4f7f6; /* Light color for links in footer */
        text-decoration: none; /* Remove underline */
    }

    footer a:hover {
        text-decoration: underline; /* Underline on hover */
    }


  /* Optional: Add some responsive adjustments */
  @media (max-width: 600px) {
      body {
          margin: 10px;
      }
      form {
          padding: 15px;
      }
      input[type="submit"] {
          width: 100%; /* Full width button on small screens */
          text-align: center;
      }
      #responseHeader {
          flex-direction: column; /* Stack header and button on small screens */
          align-items: flex-start;
          gap: 5px;
      }
       #copyButton {
           width: auto; /* Auto width on small screens */
       }
        footer {
            font-size: 0.7em; /* Smaller font on small screens */
            padding: 8px 10px;
        }
  }

</style>
</head>
<body>

<h2>rizzooo-may!</h2>
<p><b>Free <i>(beta): </i></b>Customize your resume for job applications. 3 simple steps:</p>
<ol>
  <li>Upload your resume</li>
  <li>Upload a copy job description</li>
  <li>Submit, and get a customized resume text in seconds.</li>
</ol>

<form id="uploadForm" enctype="multipart/form-data" action="https://steak.servequake.com/webhook-test/b1592350-e356-44e8-98b6-26b21b1c36b8" method="POST">
  <label for="userMessage">Give me some pointers on what I should focus on, eg. clean it up, use x industry terms, etc.</label>
  <textarea name="userMessage" id="userMessage" rows="4" cols="50"></textarea>

  <label for="file1">Select Resume File <i>(text, word, pdf, under 1mb)</i>:</label>
  <input type="file" name="file1" id="file1" required>

  <label for="file2">Select Job Description File <i>(text, word, pdf, under 1mb)</i>:</label>
  <input type="file" name="file2" id="file2" required>


  <input type="submit" value="Generate Resume">
</form>

<div id="uploadStatusContainer">
  <div id="uploadStatusBar">0%</div>
</div>
<div id="uploadStatusText">Uploading...</div>


<div id="responseContainer" style="display: none;">
    <div id="responseHeader">
        <h3>Processing Results:</h3> <button id="copyButton">Copy Text</button>
    </div>
    <div id="responseArea">
      </div>
</div>

<p id="submissionCounter">Total Submissions: Loading...</p>


<script>
// Initialize the counter from local storage or start count
const counterDisplay = document.getElementById('submissionCounter');
const localStorageKey = 'rizzoooMaySubmissionCount';
let currentCount = localStorage.getItem(localStorageKey);

if (currentCount === null) {
    currentCount = 431; // Start count if no previous count is found
} else {
    currentCount = parseInt(currentCount, 10); // Convert stored string to number
}

counterDisplay.textContent = `Total Submissions: ${currentCount}`;


document.getElementById('uploadForm').addEventListener('submit', function(event) {
  event.preventDefault(); // Prevent default form submission

  const form = this;
  // FormData automatically collects all named form inputs, including both files and the textarea
  const formData = new FormData(form);

  const responseArea = document.getElementById('responseArea');
  const responseContainer = document.getElementById('responseContainer');
  const copyButton = document.getElementById('copyButton');
  const uploadStatusContainer = document.getElementById('uploadStatusContainer');
  const uploadStatusBar = document.getElementById('uploadStatusBar');
  const uploadStatusText = document.getElementById('uploadStatusText');
  const submitButton = form.querySelector('input[type="submit"]');


  // --- Reset and Show UI Elements ---
  responseContainer.style.display = 'block';
  responseArea.innerHTML = 'Preparing
